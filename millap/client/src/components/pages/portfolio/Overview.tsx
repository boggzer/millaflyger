import React, { memo, useMemo } from 'react';
import '../../../css/Overview.scss';
import AnimatedContainer from '../../effects/AnimatedContainer';
import { ProjectDataType } from '../../../utils/global';
import { ResponsiveGridImageType } from '../../effects/ResponsiveGrid';
import useImageSize from '../../../hooks/useImageSize';
interface OverviewProps {
  children?: React.ReactNode;
  data: ProjectDataType[];
}

const Overview = ({ data }: OverviewProps): React.ReactElement => {
  const Test = () => (
    <svg
      className='test'
      viewBox='0 0 200 100'
      xmlns='http://www.w3.org/2000/svg'
      style={{ top: 0, width: '300px', height: '300px', zIndex: 100 }}
    >
      <g
        className='first'
        x={20}
        y={20}
        style={{ transform: 'translate(-250px, -200px)' }}
      >
        <path d='M 308.74816319055657 219.3095983511189 C 305.712275866323 218.0952985318593 303.0766922944895 219.65153341351837 301.05743408203125 221.67079162597656 C 299.8840398314935 222.8441858765143 300.1362829743698 224.52518405220243 299.4383239746094 225.9209442138672 C 298.7527775936475 227.29188194494947 299.12005460299866 229.16964519056785 298.6287536621094 230.64332580566406 C 298.51308927491004 230.9902666541063 298.6198415727024 231.90722363793273 298.7637023925781 232.19496154785156 C 299.62532058723457 233.9182953832394 301.5137602783867 236.08695142213574 303.486083984375 236.5800323486328 C 304.00932277748956 236.71084204691144 304.5350942759546 236.7824249267578 305.1051940917969 236.7824249267578 C 310.48615820780356 236.7824249267578 310.8395080566406 230.02641932591806 310.8395080566406 225.65109252929688 C 310.8395080566406 224.21097175969106 310.9127595292839 222.7057217184994 310.56964111328125 221.33348083496094 C 310.11100564352523 219.49925010618767 310.0627803030623 217.54877981067023 309.82757568359375 215.66661071777344 C 309.7555889216912 215.09055375657596 309.63160119517784 214.47808749055497 309.4902648925781 213.91258239746094 C 309.42460801503995 213.64988061482237 309.6142625255178 212.91157060436498 309.42279052734375 213.10304260253906 C 308.96194423951283 213.56388889037 308.8830871582031 214.64274171775656 308.8830871582031 215.2618408203125 C 308.8830871582031 217.0283437471569 309.24542789524884 218.54049195503706 309.4902648925781 220.2540740966797 C 309.8779223968474 222.9672382983145 309.7601013183594 225.83631802421795 309.7601013183594 228.61944580078125 C 309.7601013183594 229.51654046976398 309.5573921898586 231.51978321679687 309.9624938964844 232.32989501953125 C 310.4069874262219 233.2187815603429 309.9718253035021 234.57484567536358 310.4347229003906 235.50064086914062 C 310.4721681988644 235.5755314660881 310.6133107165674 236.16336007019777 310.6371154785156 236.17526245117188 C 311.1989846462353 236.45619703503172 311.8722130457309 236.45555911978755 312.3911437988281 236.7149658203125 C 312.7313248462047 236.88501787938665 314.0166186137846 236.70864546297483 314.212646484375 236.5125732421875 C 314.4210289481262 236.30414363308248 315.06087035162403 236.47385214848862 315.29205322265625 236.2427215576172 C 315.7391081237167 235.7957677544539 316.1296352788907 235.3097564709439 316.3714294433594 234.8260040283203 C 316.48755008504537 234.5936839300332 316.222024720738 233.73208354564002 316.1015930175781 233.61167907714844 C 315.9379016239753 233.44802470104756 316.145733253036 232.755577296768 316.03411865234375 232.5322723388672 C 315.71704936493757 231.89791855865613 315.0488957560475 230.61646980876296 315.6968078613281 229.9687042236328 C 316.3066889909024 229.35896101380746 318.27253972243454 229.63137817382812 319.0699462890625 229.63137817382812 C 321.7855365051132 229.63137817382812 328.37934917939293 229.89911817760213 326.96307373046875 225.65109252929688 C 326.7704960979233 225.07346850639627 326.7115299942539 224.70036133196677 326.3559265136719 224.1669158935547 C 326.0163876722697 223.65756923076816 325.58865609390364 223.0502660152434 325.0741271972656 222.68272399902344 C 321.5703840205462 220.17990474066306 319.29151896824044 223.7429658950408 317.04608154296875 225.9884033203125 C 315.9965729553844 227.03791190789684 314.7669663987578 228.2907450861848 314.4150390625 229.6988525390625 C 314.2489351601085 230.36345604897062 314.7793135522009 230.84574683410932 314.88726806640625 231.3854217529297 C 315.2027666481196 232.9626292715539 316.63057339759115 235.25137777719448 318.0580139160156 236.10780334472656 C 320.344000089888 237.47933300292206 322.9593530791858 238.2964662650701 325.61383056640625 238.7388458251953 C 327.50707333283066 239.05436249702743 329.31037346084025 238.468994140625 331.2132263183594 238.468994140625 C 332.5442174867514 238.468994140625 333.6583023353581 238.2666015625 334.9911193847656 238.2666015625 C 335.34544008282387 238.2666015625 335.93805131928127 238.26411293646655 336.2054748535156 237.9967498779297 C 336.3737234802178 237.82853929931136 336.2729187011719 237.12644285162276 336.2729187011719 236.9173583984375 C 336.2729187011719 235.91634150352237 336.31733862276286 234.944307348731 336.4078369140625 233.94898986816406 C 336.73784391785625 230.31950985402926 337.5547180175781 226.86438162409988 337.5547180175781 223.22242736816406 C 337.5547180175781 221.69946520351974 337.8245544433594 220.22390308833153 337.8245544433594 218.7024383544922 C 337.8245544433594 218.1628535869671 338.0269470214844 217.86927482389765 338.0269470214844 217.35317993164062 C 338.0269470214844 217.0833282470703 338.0269470214844 216.27377319335938 338.0269470214844 216.5436248779297 C 338.0269470214844 217.94199768427185 337.1906144768226 219.47186963385545 337.5547180175781 220.92869567871094 C 337.7217158453968 221.59687590155542 337.6567087837064 222.28130691585005 337.8245544433594 222.95257568359375 C 337.83522476804234 222.9952497432993 337.9861852255824 223.64759342236505 337.89202880859375 223.69467163085938 C 337.17369081472305 224.05384062779473 335.5074572846386 223.08750915527344 334.7212829589844 223.08750915527344 C 334.249043782552 223.08750915527344 333.7768046061198 223.08750915527344 333.3045654296875 223.08750915527344 C 333.07969156901044 223.08750915527344 332.4050699869792 223.08750915527344 332.62994384765625 223.08750915527344 C 335.6189956868489 223.08750915527344 338.70912748401565 222.41533108691416 341.5350036621094 223.35736083984375 C 342.2585803340745 223.59857125054785 342.84505969802035 223.3714891995961 343.4914245605469 223.69467163085938'></path>
      </g>
      <g className='second' style={{ transform: 'translate(-250px, -200px)' }}>
        <path d='M 357.695931042368 232.35984219230508 C 357.6959228515625 233.7569517230285 357.42468062182456 235.33828411339118 357.22369384765625 236.7449188232422 C 356.79274521156805 239.76097454229622 357.28168740494255 242.95187962363903 357.6959228515625 245.8523712158203 C 357.8186162323061 246.71147470917643 357.84824808631146 248.09616893383603 358.4380187988281 248.68580627441406 C 358.5024565501341 248.750229453637 358.6301862577355 249.3604278564453 358.77532958984375 249.3604278564453 C 359.62682258217677 249.3604278564453 360.5079897976331 247.62694542441918 360.8666687011719 246.99923706054688 C 362.4000252001063 244.31577647872018 364.76742371321967 242.2254710823213 366.60101318359375 239.78073120117188 C 367.065682562209 239.16118370714207 367.786851653693 238.52743362462732 368.35504150390625 237.95924377441406 C 368.40243902013873 237.91184625818158 368.6923522949219 237.48699951171875 368.6923522949219 237.48699951171875 C 368.6923522949219 237.48699951171875 368.24986191815697 238.18444005851092 368.2200927734375 238.22909545898438 C 367.8977925212719 238.7125640627616 367.27514447342423 239.00561067513124 366.9383239746094 239.51087951660156 C 366.33998017048754 240.40846289342488 364.7120361328125 242.1254551171998 364.7120361328125 243.15386962890625 C 364.7120361328125 243.36902004765727 364.40709956860684 243.8433153685353 364.5771179199219 244.0983428955078 C 364.92127248694294 244.6145747460394 365.3250784568331 244.98699730826368 365.58905029296875 245.5150604248047 C 365.6477270304452 245.63244045031752 366.0882077378062 246.4460194022518 366.1287536621094 246.45953369140625 C 368.0076050958277 247.0857702858324 368.5788063921491 245.8308886230527 369.8392028808594 244.57058715820312 C 371.4952919146184 242.91462298037249 372.0483712708489 240.9580863749154 374.56158447265625 240.45535278320312 C 376.30808903313795 240.1059886663819 378.4515627533107 240.30428962268007 380.1609802246094 240.7926788330078 C 380.70693463635837 240.94866076750066 381.3541390417745 241.01816710679034 381.8475646972656 241.26490783691406 C 381.9504175761713 241.31634009252156 382.6571044921875 241.6101217812469 382.6571044921875 241.53475952148438 C 382.6571044921875 240.83403071489454 381.6117571526337 240.65774536132812 381.10546875 240.65774536132812 C 379.3340642946985 240.65774536132812 377.53049301686997 240.59773000001366 375.7759094238281 240.7926788330078 C 374.44440170081805 240.94062041741162 372.73564300044836 241.06473780482736 371.5257873535156 241.66969299316406 C 371.0144027370479 241.92539686804537 370.3976313593693 242.45052722668424 369.90667724609375 242.61416625976562 C 369.2092218809781 242.8466338539436 368.94344728042466 244.84448858125447 368.8947448730469 245.380126953125 C 368.7965739584651 246.4598294089752 368.4473155335396 247.7854780006772 368.6923522949219 248.88819885253906 C 369.07347845043364 250.60335276047485 370.2086695240281 251.9052965017312 371.3233947753906 253.20579528808594 C 372.5014716011111 254.5802034484909 374.27129016625895 253.9294819340719 375.7084655761719 253.47564697265625 C 376.81530317641665 253.12612693763776 377.82685019360275 252.91281741902634 378.7442932128906 252.12640380859375 C 380.4347143537065 250.67740897779484 381.17487723306573 248.3875215945919 382.3197937011719 246.52700805664062 C 383.04719565993037 245.3449644495283 383.4101231122579 244.05441551529728 383.73651123046875 242.74908447265625 C 383.7824881474278 242.5652079967583 384.04995942450824 241.84826336571138 383.8714294433594 241.66969299316406 C 383.3103409937733 241.10847760048983 382.79291909934403 242.40818709055642 382.7245788574219 242.68162536621094 C 382.3312122291248 244.25553686427287 382.38726806640625 245.99012044801657 382.38726806640625 247.67385864257812 C 382.38726806640625 250.27425206747546 381.4712177834702 253.25137343361953 382.1174011230469 255.8368377685547 C 382.32148424825647 256.653401132657 381.9964942702165 257.7398109206071 382.5221862792969 258.2655029296875 C 382.94139515303556 258.6847118034262 384.2686594081999 259.08998012657395 385.018310546875 259.2774353027344 C 388.83554734966776 260.23196036165484 388.01206891322823 254.12350627532038 388.2565002441406 251.92401123046875 C 388.36184847838325 250.97604388792075 388.53459177131117 249.97045119142203 388.59381103515625 249.0231170654297 C 388.65021594656895 248.12080430459264 388.6612854003906 247.22939205444712 388.6612854003906 246.32461547851562 C 388.6612854003906 245.0877990722657 388.6612854003906 243.85098266601557 388.6612854003906 242.61416625976562 C 388.6612854003906 242.52431593497062 388.6998092891654 241.46730041503906 388.79620361328125 241.46730041503906 C 389.0210774739583 241.46730041503906 388.79620361328125 241.91704813639322 388.79620361328125 242.1419219970703 C 388.79620361328125 242.59167480468759 388.79620361328125 243.0414276123046 388.79620361328125 243.49118041992188 C 388.79620361328125 244.7363131649252 388.9311218261719 245.9525810782691 388.9311218261719 247.20162963867188 C 388.9311218261719 247.34692839944813 388.9311218261719 248.68580627441406 388.9311218261719 248.68580627441406 C 388.9311218261719 248.68580627441406 389.2480189101874 247.84336781843655 389.3359069824219 247.4040069580078 C 389.535239029952 246.40752702976255 390.6558915943788 244.78751416515516 391.4947204589844 244.36819458007812 C 391.7207188781696 244.25522092435475 392.320835589853 244.36819458007812 392.5741271972656 244.36819458007812 C 393.5966307350146 244.36819458007812 394.76091920852804 244.25713959217106 395.744873046875 244.5031280517578 C 396.2138669482867 244.62037652711075 397.1916127143945 245.5150604248047 397.3639831542969 245.5150604248047'></path>
      </g>
    </svg>
  );

  const imagesWithDimensions = useMemo(
    () =>
      data.reduce(
        (acc: ResponsiveGridImageType[], { images: [{ source }] }) => {
          // eslint-disable-next-line react-hooks/rules-of-hooks
          const { width, height } = useImageSize(
            source[0]['S'] || source[0]['M'],
          );
          acc.push({
            src: source[0]['S'] || source[0]['M'],
            height: height || 200,
            width: width || 200,
          });
          return acc;
          /*
          images.map(({ source }: any, i) => {
            // eslint-disable-next-line react-hooks/rules-of-hooks
            const { width, height } = useImageSize(
              source[0]['S'] || source[0]['M'],
            );
            acc.push({
              src: source[0]['S'] || source[0]['M'],
              height: height || 200,
              width: width || 200,
            });
          });
          */
        },
        [],
      ),
    [data],
  );

  return (
    <>
      {/* <Container type='grid' classes='overview container'> */}
      <AnimatedContainer
        data={data}
        classes='overview-container'
        type='responsive grid'
        images={imagesWithDimensions}
      />
      <Test />
      {/* {children} */}
      {/* </Container> */}
    </>
  );
};

export default memo(Overview);
